<nt-list-toolbar flex vm="vm" list-items="vm.quarries", list-fields="['quarryName', 'colours', 'location']"
                 header="Quarries" button-type="command-bar" button-tool-tip="New Quarry" button-text="New" 
                 button-click="vm.addQuarry($event)" claim="Quarry:QuarryAdd">
    <div gridster="gridsterOptions">
        <ul class="with-3d-shadow with-transitions">
            <li gridster-item="widget" ng-repeat="widget in dashboard.widgets">
                <div class="box">
                    <div class="box-header">
                        <h3>{{ widget.name }}</h3>
                    </div>
                    <div class="box-content">
                        <nvd3 options="widget.chart.options"
                              data="widget.chart.data"
                              api="widget.chart.api"
                              config="config"
                              events="events"></nvd3>
                    </div>
                </div>
            </li>
        </ul>
    </div></nt-list-toolbar>

<script type="text/ng-template" id="quarry_dialog">
    <md-dialog aria-label="Quarry" class="dialog">
        <nt-dialog form="quarryForm" header="Quarry">
            <div layout="row">
                    <nt-input flex="33" form="quarryForm" label="Quarry Name" control-name="quarryName" ng-model="vm.model.quarryName" ng-required="true" em-maxlength="20"></nt-input>
                    <nt-input flex="33" form="quarryForm" label="Location" control-name="Location" ng-model="vm.model.location" ng-required="false" em-maxlength="100"></nt-input>
                    <nt-select flex="33" form="quarryForm" label="Colour" control-name="colourId" ng-model="vm.model.colourIds[0]" opt-list="service.colours" opt-value="materialColourId" opt-text="colourName" ng-required="true"></nt-select>
            </div>
        </nt-dialog>
    </md-dialog>
</script>